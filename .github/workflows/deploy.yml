name: NodeJS with Grunt

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  build:
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [14.x, 16.x, 18.x]

    steps:
    - name: Vite Github Pages Deployer
      # You may pin to the exact commit or the version.
      # uses: skywarth/vite-github-pages-deployer@e37c6d4d4a5db48398286c6ca0f179e5f6be3170
      uses: skywarth/vite-github-pages-deployer@v1.2.0
      with:
        # Public base path string for vite, this affects the routing, history and asset links. Make sure to provide appropriately since Github Pages stores your app in a directory under a subdomain.
        public_base_path: /
        build_path: ./dist
        install_phase_node_env: production
        build_phase_node_env: prodduction
        package_manager: npm
        artifact_name: static
        debug_mode: false
